# Docker deployment env (copy to .env.docker and edit)

# Django
DEBUG=False
# REQUIRED in production. Generate one, e.g.:
# python -c "import secrets; print(secrets.token_urlsafe(50))"
SECRET_KEY=
DJANGO_SETTINGS_MODULE=noctis_pro.settings

# Public host configuration (adjust for your domain/tunnel)
DOMAIN_NAME=noctis-pro.com
ALLOWED_HOSTS=localhost,127.0.0.1

# Host port to publish the web app on (docker-compose.yml).
# If 8000 is already in use on your machine, set this to something else (e.g. 8001).
# WEB_PORT=8000

# Web server concurrency (Gunicorn workers).
# - If unset, the container auto-detects CPU cores and uses that count.
# - Override if you want fewer workers (e.g. to reduce RAM).
# WEB_CONCURRENCY=4

# Optional Gunicorn tuning (defaults are set in Dockerfile/systemd).
# GUNICORN_TIMEOUT=3600
# GUNICORN_GRACEFUL_TIMEOUT=30
# GUNICORN_KEEPALIVE=5

# Optional: extra trusted origins for CSRF (comma-separated). If you change WEB_PORT,
# this is handled automatically by the app as long as WEB_PORT is set.
CSRF_TRUSTED_ORIGINS=http://localhost:8000

# Optional: extra allowed CORS origins (comma-separated).
# CORS_ALLOWED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# Postgres (used by docker-compose.yml)
DB_NAME=noctispro
DB_USER=noctispro
DB_PASSWORD=change-me

# PgBouncer
# If you see: "FATAL: server login failed: wrong password type"
# set this to "plain" (the default in this repo) or configure md5 properly.
# PGBOUNCER_AUTH_TYPE=plain

# Redis / Celery (recommended when running multiple web workers)
# - Needed for Channels (websockets) across multiple Gunicorn workers
# - Needed to offload CPU-heavy post-processing to background workers
# REDIS_URL=redis://redis:6379/0
# CELERY_BROKER_URL=redis://redis:6379/0
# CELERY_RESULT_BACKEND=redis://redis:6379/0
# If unset, the container auto-detects CPU cores and uses that count.
# CELERY_CONCURRENCY=4

# DICOM receiver port published on the host (docker-compose.yml).
# If you already run the systemd DICOM service on 11112, set this to a different port (e.g. 11113).
# DICOM_PORT=11112

# Optional: ngrok (used by the compose 'ngrok' profile)
# IMPORTANT: do not wrap these values in quotes; Docker Compose treats quotes as literal.
# NGROK_AUTHTOKEN=your_ngrok_authtoken
# Optional reserved domain (only if you actually reserved it in your ngrok account):
# NGROK_DOMAIN=your-reserved-domain.ngrok.app
# Optional: host port for ngrok's local API (defaults to 4040). If 4040 is taken, set e.g.:
# NGROK_WEB_PORT=4041

# Optional: media/static serving behavior
# SECURITY: Keep this False for public production. Serve media via authenticated endpoints only.
SERVE_MEDIA_FILES=False
